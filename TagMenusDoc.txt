Projeto Documentação de TagMenus e Mapeamento de Acessos de Usuários

Para um melhor controle da documentação de acessos nas empresas, o sistema tem o seu controle de acessos por usuários e Perfis, mas não nos permite 
ter um relatório e/ou consulta mais detalhada destas permissões para apresentação a gerentes e controladores de equipes. Desta forma, iniciamos um 
projeto de identificação e guarda ddos códigos de telas e também dos registros associados aos menus e opções, para com eles podermos gerar 
consultas, cubos e quaisquer relatórios que a TOTVS não nos fornece. 

Foi iniciado o projeto no mês de março de 2018, e pretendemos mapear todos os menus dos sistemas, criando um banco de dados unificado e com 
constante atualização, onde haja a troca destes dados para todos que usem os sitemas, e precisem destas informações. 

Como ajudar? Todos que instalarem nos seus ambientes O Meta Dados com as tabelas associadas e os scripts para utilização, deverão preencher novos 
registros nas Tabelas de Tagmenus e então nos Itens Associados (menus). 

Com os dados preenchidos, e o script (View) na base de dados, poderá utilizar as consultas por Cubos, Planilhas ou relatórios montados no sistema. 

Para a troca dos dados e atualização constante, vamos criar e disponibilizar um script a ser rodado que exportae todo ambiente de tabelas e 
associações de forma a ser enviado a todos do projeto para importação e atualização no caso de não ter ainda os registros por outros atualizados. 
Com a troca e atualização frequennte entre um grande número de colaboradores, teremos muito rapidamente todas as TagMenus identificadas e prenchidos 
os tipos de acessos para os relatórios. 

Todos que participantes que participarem no projeto terão seus nomes identificados em documento final que desenvolveremos. 


Muito grato a todos os amigos e colaboradores que tem a intenção em melhorar sempre os recursos das ferramentas TOTVS - RM


-- 
-- Script de Trocas entre colaboradores para inserts em bases que ainda não existem os Registros --
-- Gerar um Arquivo texto com o resultado deste SELECT e compartilhar com a equipe colaboradora
--

Select 'Set DateFormat DMY;'
UNION
Select 'Insert into ZMDTAGMENU Select ''' 
		+ CAST(TAGMENU as VARCHAR)+ ''', '''
		+ MENU + ''','''
		+ RECCREATEDBY  + ''','''
		+ CONVERT(VARCHAR(10), RECCREATEDON , 103)  + ''','''
		+ RECMODIFIEDBY  + ''','''
		+ CONVERT(VARCHAR(10), RECMODIFIEDON , 103)  
		+ ''' Where ''' 
		+ Cast(TagMenu as Varchar)
		+ ''' Not in (Select Cast(TagMenu as Varchar) From ZMDTAGMENU)'
From ZMDTAGMENU
UNION
Select 'Insert into ZMDGAUTZMENU Select ''' 
		+ CODSISTEMA + ''', ''' 
		+ CAST(TAGMENU as VARCHAR)+ ''', '''
		+ CAST(POS as VARCHAR)+''','''
		+ MENU + ''','''
		+ DETALHE + ''','''
		+ RECCREATEDBY  + ''','''
		+ CONVERT(VARCHAR(10), RECCREATEDON , 103)  + ''','''
		+ RECMODIFIEDBY  + ''','''
		+ CONVERT(VARCHAR(10), RECMODIFIEDON , 103)    + ''','''
		+ NUMPERM   + ''','''
		+ VERSRM
		+ ''' Where ''' + CodSistema + '|' 
		+ Cast(TagMenu as Varchar)+ '|' 
		+ Cast(Pos as Varchar) + ''' Not in (Select CodSistema + ''|'' + Cast(TagMenu as Varchar)+ ''|'' + Cast(Pos as Varchar) From ZMDGAUTZMENU)'
From ZMDGAUTZMENU
Order by 1 Desc